<!DOCTYPE html><html lang="en"><head><link rel="stylesheet" href="/static/css/prism.css"><meta charset="UTF-8"><link rel="icon" href="/favicon.ico" sizes="32x32" type="image/x-icon"><meta name="viewport" content="width=device-width, min-width=800"><link rel="stylesheet" href="/static/css/styles.css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Ubuntu+Condensed&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet"><meta name="description" content="Description of API hooks provided by constexpr.js to the compiler code"><meta name="keywords" content="constexpr.js,web"><title>Constexpr.js API Documentation</title></head><body>
<img class="bg" id="main_bg" src="/static/img/bg.jpg" alt="">









<style>
    #api_methods li + li {
        border-top: 2px solid #b6b5b5;
    }
</style>


<div id="body_wrapper" class="first_body_wrapper"><header><nav><a href="/">
              HOME
          </a><a href="/projects.html">
              PROJECTS
          </a><a href="/tags.html">
              TAGS
          </a></nav><h1 id="main_title">Constexpr.js API Documentation</h1><ul class="tags_list"><li><a class="tag_element" href="/tags/constexpr.js.html">constexpr.js</a></li><li><a class="tag_element" href="/tags/web.html">web</a></li></ul><div style="width: calc(100% - 2em); height: 5px; margin: 1em auto 0; border: solid black; border-width: 1px 0;"></div></header><article>
    <p>
        Constexpr.js compiler injects some methods in the runtime of a page which the rendering code can use to coordinate/manipulate
        the behaviour of the compiler. This page describes these methods.
    </p>
    <ul id="api_methods">
        <li>
            <prog class=" language-js" role="figure"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">_ConstexprJS_</span><span class="token punctuation">.</span><span class="token method function property-access">compile</span><span class="token punctuation">(</span><span class="token punctuation">)</span></prog>
            <p>
                The rendering code should call this method once it has finished rendering. The page will be snapshotted and killed
                shortly after.
            </p>
        </li>
        <li>
            <prog class=" language-js" role="figure"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">_ConstexprJS_</span><span class="token punctuation">.</span><span class="token method function property-access">abort</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></prog>
            <p>
                Call this method if you want the compiler to skip this page. The page will be killed shortly after.
            </p>
        </li>
        <li>
            <prog class=" language-js" role="figure"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">_ConstexprJS_</span><span class="token punctuation">.</span><span class="token method function property-access">addPaths</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span></prog>
            <p>
                Use this method to tell the compiler that it needs to generate additional HTML files in the output directory.
                This method doesn't affect the current page in any way. See <a href="/posts/constexprjs_generator_pages.html">this page</a>
                for detailed documentation.
            </p>
        </li>
        <li>
            <prog class=" language-js" role="figure"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">_ConstexprJS_</span><span class="token punctuation">.</span><span class="token method function property-access">addExclusions</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span></prog>
            <p>
                The argument is a list of strings. Use this method to tell the compiler to remove given paths from the
                dependency list of the current file.
            </p>
            <p>
                The compiler uses HTTP requests made by the page to figure out the dependencies that it needs to copy. Also,
                the compiler automatically removes <progi role="figure">constexpr</progi> script paths from the dependency list of an HTML file.
                But if the rendering code uses XHR to fetch a script and then <progi role="figure">eval</progi>s it, the compiler will think
                that the fetched script is a regular resource and copy it over as well.
            </p>
            <p>
                You can use this method to mark certain paths as <progi role="figure">constexpr</progi>, so that they aren't copied.
            </p>
        </li>
        <li>
            <prog class=" language-js" role="figure"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">_ConstexprJS_</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span></prog>
            <p>
                Print a message on the compiler stdout. The message is prefixed with the generator path before printing.
            </p>
        </li>
    </ul>
    <blockquote>
        See pages tagged with <a class="tag_element" href="/tags/constexpr.js.html">constexpr.js</a> for more guides.
    </blockquote>
</article><footer>
    <div class="links">
        <div class="social">
            <div class="footer-title">Contacts:</div>
            <a title="github" href="https://github.com/fctorial" class="svg-icon github"></a>
            <a title="twitter" href="https://twitter.com/fctorial1" class="svg-icon twitter"></a>
            <a title="email" href="mailto:fctorial@gmail.com" class="svg-icon email"></a>
        </div>
        <div class="share social">
            <div class="footer-title">Share this page:</div>
            <a title="twitter" class="svg-icon twitter" target="_blank" href="https://twitter.com/share?text=Constexpr.js API Documentation&amp;url=https://fctorial.github.io/posts/constexprjs_api_docs.html"></a>
            <a title="facebook" class="svg-icon facebook" target="_blank" href="https://www.facebook.com/sharer.php?u=https://fctorial.github.io/posts/constexprjs_api_docs.html"></a>
            <a title="reddit" class="svg-icon reddit" target="_blank" href="https://www.reddit.com/submit?title=Constexpr.js API Documentation&amp;url=https://fctorial.github.io/posts/constexprjs_api_docs.html"></a>
        </div>
    </div>

<a class="discussion" target="_blank" href="https://www.reddit.com/r/fctorial/comments/me5fp2/constexprjs_api_documentation/">Join the discussion here</a></footer></div></body></html>